<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>DJ DEBUG</title>
<script src="/socket.io/socket.io.js"></script>
</head>

<body>

<h1>DJ DEBUG</h1>
<div id="status">Connexion...</div>
<div id="winner">Aucun buzz</div>
<button onclick="resetBuzz()">RESET</button>

<script>
const socket = io();

const status = document.getElementById("status");
const winner = document.getElementById("winner");

socket.on("connect", () => {
  status.innerText = "Socket connecté ✅";
});

socket.on("buzzList", (list) => {
  console.log("buzzList reçu :", list);

  if (list.length === 0) {
    winner.innerText = "Aucun buzz";
  } else {
    winner.innerText = list[0];
  }
});

function resetBuzz() {
  socket.emit("reset");
}
</script>

</body>
</html>
